!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("Rx")):"function"==typeof define&&define.amd?define(["Rx"],t):"object"==typeof exports?exports.grizzy=t(require("Rx")):e.grizzy=t(e.Rx)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=n(8),i=n(7),o=n(6),u=n(4).drawSchedule,a=n(4).load;e.exports={blankSVG:o,draw:r,drawSchedule:u,dimensions:i,load:a}},function(e,t){"use strict";e.exports={LOAD:"load",PRE_BIND:"pre-bind",BIND:"bind",PRE_RENDER:"pre-render",RENDER:"render",FINISH:"finish",CALL_NEXT:"call-next"}},function(t,n){t.exports=e},function(e,t,n){"use strict";var r=n(2);e.exports={queueSubject:new r.ReplaySubject(1),scheduleSubject:new r.ReplaySubject(1)}},function(e,t,n){"use strict";function r(e,t,n){var r=n.data,i=r===!1?t:t.selectAll(e),o=Object.keys(n.is),u=o.length,a=n.is,s=void 0,f=void 0;return s=r instanceof Array&&r[1]instanceof Function?r:[r],f=r?function(){return i.data.apply(i,s)}:function(){return i},{type:c,dataBinder:f,is:a,keys:o,len:u}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u.onNext({type:s,time:Date.now(),transitions:t}),t}var o=(n(2),n(9)),u=o.queueSubject,a=n(1),s=a.LOAD,c=(a.BIND,a.PRE_BIND);e.exports={drawSchedule:r,load:i}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){var r=new Array(e.length);return 2===arguments.length?e.forEach(function(e,n){r[n]=t[e]}):e.forEach(function(e,i){r[i]=n(t[e])}),r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e.toLowerCase()===r.toLowerCase())return!0}}function o(e){return 0===Object.keys(e).length||0===e.length}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){return document.querySelector(e)},s=function(){function e(){n(this,e),this.__queue__=new Array,this.length=this.__queue__.length}return u(e,[{key:"setLength",value:function(){this.length=this.__queue__.length}},{key:"dequeue",value:function(){var e=this.__queue__.shift();return this.setLength(),e}},{key:"enqueue",value:function(e){this.__queue__.push(e),this.setLength()}}]),e}();e.exports={indexed:r,Queue:s,inArray:i,isEmpty:o,pick:a}},function(e,t){"use strict";function n(e,t,n){return n=void 0!==n?n:"body",e.select(n).append("svg").attr({width:t.width+t.margin.left+t.margin.right,height:t.height+t.margin.top+t.margin.bottom}).append("g").attr({transform:"translate("+t.margin.left+","+t.margin.top+")"})}e.exports=n},function(e,t){"use strict";function n(e,t){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],r=arguments.length<=3||void 0===arguments[3]?0:arguments[3],i=arguments.length<=4||void 0===arguments[4]?0:arguments[4],o=arguments.length<=5||void 0===arguments[5]?0:arguments[5],u={margin:{top:n,right:r,bottom:i,left:o},width:e-o-r,height:t-n-i};return u}function r(e){var t=["width","height","margin"],r={};return t.forEach(function(t,n){for(var i in e)e.hasOwnProperty(t)?r[n]=e[t]:r[n]=void 0}),void 0===r[2]&&(r[2]={top:0,right:0,bottom:0,left:0}),n(r[0],r[1],r[2].top,r[2].right,r[2].bottom,r[2].left)}e.exports=r},function(e,t){"use strict";function n(e,t,n){var r=n.data,i=r===!1?t:t.selectAll(e),o=Object.keys(n.is),u=o.length,a=void 0;a=r instanceof Array&&r[1]instanceof Function?r:[r],r&&(i=i.data.apply(i,a));for(var s=0;s<u;s++)i.call(n.is[o[s]]);return i}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(t.type===m){var n=function(){var e=new a;return x=t.time,t.transitions.forEach(function(t){e.enqueue(t)}),{v:{staged:e.dequeue(),queue:e,time:t.time}}}();if("object"===("undefined"==typeof n?"undefined":i(n)))return n.v}else if(t.type===b){var r=e.queue;return r.length>0?{staged:r.dequeue(),queue:r,time:e.time}:w}}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(2),u=n(5),a=u.Queue,s=u.isEmpty,c=n(3),f=c.queueSubject,l=c.scheduleSubject,d=n(10),p=d.transitionState,h=d.dataModel,g=n(11),y=g.views,v=n(1),m=v.LOAD,b=(v.PRE_BIND,v.FINISH),x=0,_=function(e){return e.time===x},E=l.filter(_),w={staged:{},queue:new a,time:0},S=f.startWith(w).scan(r).skip(1).filter(function(e){return!s(e.staged)}),j=S.filter(function(e){return!Array.isArray(e)}).map(function(e){var t=e.staged,n=t.is,r=Object.keys(n),i={};r.forEach(function(e){i[e]=[n[e]]});var o=Object.assign({},t,{time:e.time,dataBinder:[t.dataBinder],is:i});return o}),k=o.Observable.merge(j,E);k.startWith(p).scan(h).skip(1).filter(function(e){return!e.flag}).subscribe(function(e){y(e)}),e.exports={queueSubject:f}},function(e,t,n){"use strict";function r(e){return void 0!==e?e.length:0}function i(e,t){var n=t.dataBinder,r=t.create,i=t.keys,o=t.is,u=t.len,a=t.time,s={packed:[],dataBinder:n,parent:r,keys:i,is:o,len:u,flag:!1,callIndex:-1,time:a,type:f,stage:"post-bind",out:0};return s}function o(e,t){var n=void 0,i=void 0;if(t.hasOwnProperty("returnCount")){var o=e.out-t.returnCount;if(o>0)return e=Object.assign({},e,{out:o,flag:!0})}return n=e.callIndex+=1,i=e.is[e.keys[n]],0===e.callIndex?Object.assign({},e,{packed:[{parent:t.parent,transition:i,time:e.time}],parent:t.parent,out:r(i),stage:"start",flag:!1,type:s}):e.callIndex<e.len?Object.assign({},e,{packed:[{parent:e.parent,transition:i,time:e.time}],stage:"continue",out:r(i),flag:!1,type:s}):Object.assign({},e,{packed:[],stage:"empty",out:r(i),flag:!1,type:s})}var u=n(5),a=(u.Queue,n(1)),s=a.RENDER,c=a.PRE_BIND,f=a.BIND;e.exports.transitionState={packed:[],dataBinder:[],parent:[],keys:[],is:{},len:0,flag:!1,time:void 0,callIndex:-1,type:"base",stage:"",out:void 0},e.exports.dataModel=function(e,t){var n=void 0!==t?t.type:"done";switch(n){case c:return i(e,t);case s:return o(e,t);case"done":}}},function(e,t,n){"use strict";function r(e){for(var t=e.dataBinder,n=t.length,r=[],i=0;i<n;i++){var o=t.shift();r.push(o())}c.onNext({type:d,stage:h,parent:r,time:e.time})}function i(e){return function(t){var n=0,r=function(){c.onNext({type:d,stage:g,returnCount:1,time:e})};return void 0===t.namespace||t.empty()?r():void t.each(function(){return++n}).each("end",function(){--n||r()})}}function o(e){if(e.callIndex<e.len&&void 0!==e.parent){var t=e.packed;t.forEach(function(e){for(var t=e.parent,n=e.transition,r=n.length,o=0;o<r;o++){var u=i(e.time),a=n.shift();t[o].call(a,u)}})}else s.onNext({type:p,time:e.time})}function u(e){var t=void 0!==e?e.type:"done";if(t===l&&e.dataBinder.length>0)r(e);else{if(t!==d)return!1;o(e)}}var a=n(3),s=a.queueSubject,c=a.scheduleSubject,f=n(1),l=f.BIND,d=f.RENDER,p=f.FINISH,h=f.PRE_RENDER,g=f.CALL_NEXT;e.exports={views:u}}])});
//# sourceMappingURL=index.umd.min.js.map